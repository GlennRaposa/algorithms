public class OddEvenSort {

	private static class Node {
		private int value;
		private Node next;

		@SuppressWarnings("unused")
		Node(int value) {
			this.value = value;
			this.next = null;
		}
	}

	public static Node oddEvenList(Node head) {
		if (head == null)
			return head;

		Node result = head;
		Node p1 = head;
		Node p2 = head.next;
		Node connectNode = head.next;

		while (p1 != null && p2 != null) {
			Node t = p2.next;
			if (t == null)
				break;

			p1.next = p2.next;
			p1 = p1.next;

			p2.next = p1.next;
			p2 = p2.next;
		}

		p1.next = connectNode;

		return result;
	}

	public static void main(String args[]) {
		Node head = new Node(1);
		head.next = new Node(2);
		head.next.next = new Node(3);
		head.next.next.next = new Node(4);
		head.next.next.next.next = new Node(5);

		head = oddEvenList(head);
		Node curr = head;
		while (curr != null) {
			System.out.println("Current node value:" + curr.value);
			curr = curr.next;
		}
	}
}
